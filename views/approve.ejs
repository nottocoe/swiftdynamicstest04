<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.24/css/dataTables.bootstrap4.min.css">
    <script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap4.min.js"></script>
    
    <style>
      th, td, h2{
        text-align: center;
      }
    </style>
  </head>
  <body>
    <table id="datatable_01" class="table table-striped table-bordered" style="width: 100%">
      <br><h2>Worksheet Approve</h2>
      <thead>
          <tr>
              <th>Worksheet</th>
              <th>Approver No.1</th>
              <th>Approver No.2</th>
              <th>Approver No.3</th>
          </tr>
      </thead>
      <tbody>
        <% for(i = 0; i < worksheet.length; i++){ %>
          <tr>
            <td><%= worksheet[i].worksheet_name %><input type="hidden" id="worksheet" name="worksheet" value="<%= worksheet[i].worksheet_name %>"></td>

            <% if(approve_pos === 'approver_no1'){ %> 
              <td><% if(worksheet[i].approver_no1 === 0){ %> <center><button onclick="location.href='/approved?position=<%= approve_pos %>&worksheet=<%= worksheet[i].worksheet_name %>'" type="button" id="approve_position" name="approve_position" class="btn btn-info">Approve</button>
              <% }else { %> <b>Approved</b> <% } %></td>
              <td><% if(worksheet[i].approver_no2 === 0){ %>Not Approve <% } else { %><b>Approved</b> <% } %></td>
              <td><% if(worksheet[i].approver_no3 === 0){ %>Not Approve <% } else { %><b>Approved</b> <% } %></td>
            <% } %>

            <% if(approve_pos === 'approver_no2'){ %> 
              <td><% if(worksheet[i].approver_no1 === 0){ %>Not Approve <% } else { %><b>Approved</b> <% } %></td>
              <td><% if(worksheet[i].approver_no2 === 0){ %> <center><button onclick="location.href='/approved?position=<%= approve_pos %>&worksheet=<%= worksheet[i].worksheet_name %>'" type="button" id="approve_position" name="approve_position" class="btn btn-info">Approve</button>
              <% }else { %> <b>Approved</b> <% } %></td>
              <td><% if(worksheet[i].approver_no3 === 0){ %>Not Approve <% } else { %><b>Approved</b> <% } %></td>
            <% } %>

            <% if(approve_pos === 'approver_no3'){ %> 
              <td><% if(worksheet[i].approver_no1 === 0){ %>Not Approve <% } else { %><b>Approved</b> <% } %></td>
              <td><% if(worksheet[i].approver_no2 === 0){ %>Not Approve <% } else { %><b>Approved</b> <% } %></td>
              <td><% if(worksheet[i].approver_no3 === 0){ %> <center><button onclick="location.href='/approved?position=<%= approve_pos %>&worksheet=<%= worksheet[i].worksheet_name %>'" type="button" id="approve_position" name="approve_position" class="btn btn-info">Approve</button>
              <% }else { %> <b>Approved</b> <% } %></td>
            <% } %>
          </tr>
        <% } %>
      </tbody>
    </table>
    <center><button type="button" id="logout" name="logout" class="btn btn-danger" onclick="logout()">LOGOUT</button>
  </body>
  <script>
    $(document).ready( function () {
      $('#datatable_01').DataTable();
    });

    function logout() {
      location.replace('/logout');
    }
  </script>
</html>